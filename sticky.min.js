angular.module("sticky", []).directive("sticky", ["$timeout", function (e) { return { restrict: "A", scope: { offset: "@" }, link: function (t, n, r) { e(function () { function c() { console.log(n[0]); a = n[0].offsetTop - r; h(); l = n[0].offsetLeft + n[0].clientWidth } function h() { f = (window.pageYOffset || s.scrollTop) - (s.clientTop || 0); if (f >= a) { n.css("position", "fixed"); n.css("left", l + "px") } else { n.css("position", o); n.css("left", u) } } function p() { n.css("position", o); e(c) } var r = t.offset || 0, i = angular.element(window), s = document.documentElement, o = n.css("position"), u = n.css("left"), a, f, l; n.css("top", r + "px"); i.on("scroll", h); i.on("resize", p); c() }) } } }])